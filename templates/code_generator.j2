// This is an autogenerated sketch file corresponding to
// the router's data path and is used to solve the Chipmunk compilation problem.
// program_file = {{ program_file  }} num_pipeline_stages = {{ num_pipeline_stages }}
// num_alus_per_stage = {{ num_alus_per_stage }}
// num_phv_containers = {{ num_phv_containers }}

{{ hole_definitions }}

// Definitions of muxes and ALUs of the router
{% include "muxes_and_alus.j2" %}

// Data type for holding result from spec and implementation
struct StateGroup {
  {% for state_number in range(num_state_slots) %}
    int state_{{state_number}};
  {% endfor %}
}

struct StateAndPacket {
  {% for field_number in range(num_fields_in_prog) %}
    int pkt_{{field_number}};
  {% endfor %}
  {% for group_number in range(num_state_groups) %}
    StateGroup state_group_{{group_number}};
  {% endfor %}
}

// Specification
{{spec_as_sketch}}

// Implementation
{% include "router_data_path_sketch.j2" %}
